<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Google Analytics API Setup Guide - Portfolio Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #f5f7fc;
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
        }
        
        .guide-container {
            max-width: 900px;
            margin: 40px auto;
            padding: 30px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .guide-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .guide-header h1 {
            color: #4831d4;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .guide-header p {
            color: #666;
            font-size: 16px;
        }
        
        .guide-section {
            margin-bottom: 40px;
        }
        
        .guide-section h2 {
            color: #333;
            font-size: 22px;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .guide-section h3 {
            color: #4831d4;
            font-size: 18px;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        .step {
            margin-bottom: 25px;
            padding-left: 20px;
            border-left: 3px solid #4831d4;
        }
        
        .step-num {
            display: inline-block;
            width: 30px;
            height: 30px;
            background-color: #4831d4;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .step-title {
            font-weight: 600;
            font-size: 18px;
            margin-bottom: 10px;
        }
        
        .step-content {
            padding-left: 40px;
        }
        
        .step-content p {
            margin-bottom: 15px;
        }
        
        .step-content ul {
            margin-bottom: 15px;
        }
        
        .step-content li {
            margin-bottom: 8px;
        }
        
        .image-container {
            margin: 20px 0;
            text-align: center;
        }
        
        .image-container img {
            max-width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .note-box {
            background-color: rgba(255, 190, 11, 0.1);
            border-left: 3px solid #ffbe0b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .code-block {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            font-family: monospace;
            overflow-x: auto;
        }
        
        .btn-container {
            margin-top: 30px;
            text-align: center;
        }
        
        .back-btn {
            display: inline-block;
            background-color: #4831d4;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .back-btn:hover {
            background-color: #3a28a7;
        }
        
        .back-btn i {
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="guide-container">
        <div class="guide-header">
            <h1>Hướng dẫn cấu hình Google Analytics API</h1>
            <p>Hướng dẫn từng bước để kết nối Dashboard với Google Analytics</p>
        </div>
        
        <div class="guide-section">
            <h2>Tổng quan</h2>
            <p>Để kết nối Dashboard của bạn với Google Analytics API, bạn cần thực hiện các bước sau:</p>
            <ol>
                <li>Tạo dự án trong Google Cloud Console</li>
                <li>Kích hoạt Google Analytics API cho dự án</li>
                <li>Tạo API Key cho dự án</li>
                <li>Lấy Google Analytics ID và View ID</li>
                <li>Cấu hình thông tin trong Dashboard</li>
            </ol>
            <p>Hướng dẫn này sẽ giúp bạn hoàn thành từng bước trên.</p>
        </div>
        
        <div class="guide-section">
            <h2>Bước 1: Tạo dự án trong Google Cloud Console</h2>
            
            <div class="step">
                <div class="step-title"><span class="step-num">1</span>Truy cập Google Cloud Console</div>
                <div class="step-content">
                    <p>Đi đến <a href="https://console.cloud.google.com" target="_blank">https://console.cloud.google.com</a> và đăng nhập bằng tài khoản Google của bạn.</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">2</span>Tạo dự án mới</div>
                <div class="step-content">
                    <p>Nhấp vào menu thả xuống chọn dự án ở góc trên cùng bên trái và nhấp vào "New Project".</p>
                    <p>Đặt tên cho dự án (ví dụ: "Portfolio Analytics") và nhấp vào "Create".</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">3</span>Chọn dự án mới tạo</div>
                <div class="step-content">
                    <p>Sau khi tạo xong, hãy chọn dự án mới từ menu thả xuống chọn dự án.</p>
                </div>
            </div>
        </div>
        
        <div class="guide-section">
            <h2>Bước 2: Kích hoạt Google Analytics API</h2>
            
            <div class="step">
                <div class="step-title"><span class="step-num">1</span>Mở Library API</div>
                <div class="step-content">
                    <p>Trong menu bên trái, chọn "APIs & Services" > "Library".</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">2</span>Tìm Google Analytics API</div>
                <div class="step-content">
                    <p>Trong ô tìm kiếm, nhập "Google Analytics" và chọn "Google Analytics Reporting API".</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">3</span>Kích hoạt API</div>
                <div class="step-content">
                    <p>Nhấp vào "Enable" để kích hoạt API cho dự án của bạn.</p>
                    
                    <div class="note-box">
                        <p><strong>Lưu ý:</strong> Bạn cũng nên kích hoạt "Analytics API" nếu muốn sử dụng các tính năng quản lý tài khoản.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="guide-section">
            <h2>Bước 3: Tạo API Key</h2>
            
            <div class="step">
                <div class="step-title"><span class="step-num">1</span>Mở Credentials</div>
                <div class="step-content">
                    <p>Trong menu bên trái, chọn "APIs & Services" > "Credentials".</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">2</span>Tạo API Key mới</div>
                <div class="step-content">
                    <p>Nhấp vào "Create Credentials" và chọn "API key" từ menu thả xuống.</p>
                    <p>Một cửa sổ popup sẽ xuất hiện với API key của bạn. Hãy sao chép và lưu lại API key này ở nơi an toàn.</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">3</span>Hạn chế API Key (Tùy chọn nhưng khuyến nghị)</div>
                <div class="step-content">
                    <p>Để tăng cường bảo mật, bạn nên hạn chế API key:</p>
                    <ol>
                        <li>Nhấp vào "Restrict key" trong popup hoặc tìm API key trong danh sách và nhấp vào "Edit".</li>
                        <li>Dưới mục "API restrictions", chọn "Restrict key".</li>
                        <li>Chọn "Google Analytics Reporting API" từ danh sách thả xuống.</li>
                        <li>Nhấp vào "Save" để lưu các hạn chế.</li>
                    </ol>
                </div>
            </div>
        </div>
        
        <div class="guide-section">
            <h2>Bước 4: Lấy Google Analytics ID và View ID</h2>
            
            <div class="step">
                <div class="step-title"><span class="step-num">1</span>Truy cập Google Analytics</div>
                <div class="step-content">
                    <p>Đi đến <a href="https://analytics.google.com" target="_blank">https://analytics.google.com</a> và đăng nhập.</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">2</span>Lấy Google Analytics ID</div>
                <div class="step-content">
                    <p>Google Analytics ID có định dạng "G-XXXXXXXXXX" (GA4) hoặc "UA-XXXXXXXXX-X" (Universal Analytics).</p>
                    <p>Bạn có thể tìm ID này trong:</p>
                    <ul>
                        <li>Trang Admin > Account Settings > Account Details</li>
                        <li>Hoặc trong mã theo dõi Google Analytics đã được thêm vào website của bạn</li>
                    </ul>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">3</span>Lấy View ID</div>
                <div class="step-content">
                    <p>Đối với GA4:</p>
                    <ol>
                        <li>Trong menu Admin, chọn Property > Data Streams</li>
                        <li>Chọn data stream của bạn</li>
                        <li>Tìm ID trong mục "Measurement ID"</li>
                    </ol>
                    
                    <p>Đối với Universal Analytics:</p>
                    <ol>
                        <li>Trong menu Admin, chọn Property > View > View Settings</li>
                        <li>View ID sẽ hiển thị ở đầu trang</li>
                    </ol>
                    
                    <div class="note-box">
                        <p><strong>Lưu ý về GA4:</strong> Nếu bạn đang sử dụng GA4, API Reporting có cấu trúc khác so với Universal Analytics. Bạn cần sử dụng Google Analytics Data API v1 thay vì Reporting API v4.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="guide-section">
            <h2>Bước 5: Cấu hình Dashboard</h2>
            
            <div class="step">
                <div class="step-title"><span class="step-num">1</span>Đăng nhập vào Admin Dashboard</div>
                <div class="step-content">
                    <p>Đăng nhập vào dashboard của bạn và điều hướng đến tab "Settings".</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">2</span>Nhập thông tin API</div>
                <div class="step-content">
                    <p>Điền các thông tin đã thu thập:</p>
                    <ul>
                        <li><strong>Google Analytics ID:</strong> ID có định dạng G-XXXXXXXXXX hoặc UA-XXXXXXXXX-X</li>
                        <li><strong>View ID:</strong> ID số bạn đã lấy từ View Settings</li>
                        <li><strong>Google Analytics API Key:</strong> API key bạn đã tạo trong Google Cloud Console</li>
                    </ul>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title"><span class="step-num">3</span>Lưu cài đặt</div>
                <div class="step-content">
                    <p>Nhấp vào nút "Save Settings" để lưu thông tin cấu hình.</p>
                    <p>Dashboard sẽ tự động thử kết nối với Google Analytics API và tải dữ liệu nếu cấu hình đúng.</p>
                </div>
            </div>
        </div>
        
        <div class="guide-section">
            <h2>Khắc phục sự cố</h2>
            
            <h3>Vấn đề phổ biến và giải pháp</h3>
            
            <div class="step">
                <div class="step-title">Lỗi "API không được kích hoạt"</div>
                <div class="step-content">
                    <p>Đảm bảo bạn đã kích hoạt cả "Google Analytics Reporting API" và "Analytics API" trong dự án Google Cloud của bạn.</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title">Lỗi "Invalid Credentials"</div>
                <div class="step-content">
                    <p>Kiểm tra lại API key và đảm bảo nó không bị giới hạn quá mức. Thử tạo API key mới nếu vấn đề vẫn tiếp diễn.</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title">Lỗi "User does not have sufficient permissions"</div>
                <div class="step-content">
                    <p>Đảm bảo tài khoản Google bạn đang sử dụng có quyền truy cập vào dữ liệu Google Analytics với vai trò "Analyst" hoặc "Administrator".</p>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title">Dữ liệu không tải được trong GA4</div>
                <div class="step-content">
                    <p>Nếu bạn đang sử dụng GA4, hãy đảm bảo bạn đang sử dụng Google Analytics Data API v1 thay vì Reporting API v4. Bạn có thể cần cập nhật mã dashboard của mình.</p>
                </div>
            </div>
        </div>
        
        <div class="btn-container">
            <a href="admin-dashboard.html" class="back-btn"><i class="fas fa-arrow-left"></i> Quay lại Dashboard</a>
        </div>
    </div>
</body>
</html> 